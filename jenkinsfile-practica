pipeline {
    agent any

    parameters {
        string(name: 'nombreUser', defaultValue: '', description: 'Ingrese el nombre del usuario: ')
        string(name: 'apellidoUser', defaultValue: '', description: 'Ingrese el apellido del usuario: ')
        choice(name: 'depto', choices: ['contabilidad', 'finanzas', 'tecnologia'], description: '1-contabilidad 2-finanzas 3-tecnologia')
    }
    
    environment{

        USER_NAME = "${params.nombreUser}_${params.apellidoUser}"
    }

    stages {

        stage('Crear password temporal') {
            steps {
                script{
                //sudo passwd -e params.nombreUser
                //   sudo useradd -p env.contra -g $grupo $nombreUser
                def contra = "Contraseni4t3mp0rAl"
                echo " Muestro user: ${env.USER_NAME}! Muestro Contra: ${contra}! Muestro grupo: ${params.depto}! " 
                 }  
            }
        }                 
    }
}